# ç”¨æˆ·æ•°æ®å¤‡ä»½æŒ‡å—

## æ¦‚è¿°

æœ¬æŒ‡å—å¸®åŠ©æ‚¨å¤‡ä»½å’Œæ¢å¤å¸ƒæ—å¸¦ç­–ç•¥ç³»ç»Ÿä¸­çš„ç”¨æˆ·æ•°æ®ï¼ŒåŒ…æ‹¬ç”¨æˆ·æ·»åŠ çš„è‡ªå®šä¹‰å¸ç§ã€æ•°æ®åº“å’Œå…¶ä»–é‡è¦æ–‡ä»¶ã€‚

## éœ€è¦å¤‡ä»½çš„æ•°æ®

### 1. ç”¨æˆ·è‡ªå®šä¹‰å¸ç§
- **ä½ç½®**: `cache/custom_symbols.json`
- **å†…å®¹**: ç”¨æˆ·é€šè¿‡Webç•Œé¢æ·»åŠ çš„å¸ç§åˆ—è¡¨
- **é‡è¦æ€§**: â­â­â­â­â­ (æœ€é«˜)

### 2. æ•°æ®åº“æ–‡ä»¶
- **ä½ç½®**: `bollinger_strategy.db`
- **å†…å®¹**: åˆ†æç»“æœã€è®¢å•ã€æŒä»“ç­‰æ•°æ®
- **é‡è¦æ€§**: â­â­â­â­

### 3. ç¼“å­˜æ–‡ä»¶
- **ä½ç½®**: `cache/` ç›®å½•
- **å†…å®¹**: å¸ƒæ—å¸¦åˆ†æç¼“å­˜ã€APIå“åº”ç¼“å­˜ç­‰
- **é‡è¦æ€§**: â­â­â­

### 4. æ—¥å¿—æ–‡ä»¶
- **ä½ç½®**: `logs/` ç›®å½•
- **å†…å®¹**: ç³»ç»Ÿè¿è¡Œæ—¥å¿—
- **é‡è¦æ€§**: â­â­

## å¤‡ä»½æ–¹æ³•

### æ–¹æ³•ä¸€ï¼šä½¿ç”¨å¤‡ä»½è„šæœ¬ï¼ˆæ¨èï¼‰

1. **æ‰§è¡Œå¤‡ä»½**:
   ```bash
   python backup_user_data.py
   ```

2. **å¤‡ä»½ç»“æœ**:
   - åˆ›å»ºæ—¶é—´æˆ³å‘½åçš„å¤‡ä»½ç›®å½•ï¼Œå¦‚ `user_data_backup_20250827_202100`
   - åŒ…å«æ‰€æœ‰ç”¨æˆ·æ•°æ®çš„å®Œæ•´å¤‡ä»½
   - ç”Ÿæˆå¤‡ä»½ä¿¡æ¯æ–‡ä»¶ `backup_info.json`

### æ–¹æ³•äºŒï¼šæ‰‹åŠ¨å¤‡ä»½

1. **å¤‡ä»½è‡ªå®šä¹‰å¸ç§**:
   ```bash
   cp cache/custom_symbols.json user_backup/
   ```

2. **å¤‡ä»½æ•°æ®åº“**:
   ```bash
   cp bollinger_strategy.db user_backup/
   ```

3. **å¤‡ä»½ç¼“å­˜ç›®å½•**:
   ```bash
   cp -r cache user_backup/
   ```

## æ¢å¤æ–¹æ³•

### ä½¿ç”¨æ¢å¤è„šæœ¬

1. **æ‰§è¡Œæ¢å¤**:
   ```bash
   python restore_user_data.py user_data_backup_20250827_202100
   ```

2. **æ¢å¤è¿‡ç¨‹**:
   - è‡ªåŠ¨æ¢å¤è‡ªå®šä¹‰å¸ç§
   - æ¢å¤æ•°æ®åº“æ–‡ä»¶
   - æ¢å¤ç¼“å­˜ç›®å½•
   - æ˜¾ç¤ºæ¢å¤çš„å¸ç§åˆ—è¡¨

### æ‰‹åŠ¨æ¢å¤

1. **æ¢å¤è‡ªå®šä¹‰å¸ç§**:
   ```bash
   mkdir -p cache
   cp user_backup/custom_symbols.json cache/
   ```

2. **æ¢å¤æ•°æ®åº“**:
   ```bash
   cp user_backup/bollinger_strategy.db .
   ```

3. **æ¢å¤ç¼“å­˜**:
   ```bash
   rm -rf cache
   cp -r user_backup/cache .
   ```

## éƒ¨ç½²æ—¶çš„æ•°æ®è¿ç§»

### åœºæ™¯1ï¼šæ›´æ–°åº”ç”¨ä»£ç 

1. **å¤‡ä»½å½“å‰æ•°æ®**:
   ```bash
   python backup_user_data.py
   ```

2. **æ›´æ–°ä»£ç **:
   ```bash
   git pull origin main
   # æˆ–ä¸Šä¼ æ–°ç‰ˆæœ¬ä»£ç 
   ```

3. **æ¢å¤ç”¨æˆ·æ•°æ®**:
   ```bash
   python restore_user_data.py user_data_backup_20250827_202100
   ```

### åœºæ™¯2ï¼šè¿ç§»åˆ°æ–°æœåŠ¡å™¨

1. **åœ¨æ—§æœåŠ¡å™¨å¤‡ä»½**:
   ```bash
   python backup_user_data.py
   ```

2. **ä¼ è¾“å¤‡ä»½æ–‡ä»¶**:
   ```bash
   scp -r user_data_backup_20250827_202100 user@new-server:/path/to/app/
   ```

3. **åœ¨æ–°æœåŠ¡å™¨æ¢å¤**:
   ```bash
   python restore_user_data.py user_data_backup_20250827_202100
   ```

## å¤‡ä»½æ–‡ä»¶ç»“æ„

```
user_data_backup_20250827_202100/
â”œâ”€â”€ custom_symbols.json          # ç”¨æˆ·è‡ªå®šä¹‰å¸ç§
â”œâ”€â”€ bollinger_strategy.db        # æ•°æ®åº“æ–‡ä»¶
â”œâ”€â”€ cache/                       # ç¼“å­˜ç›®å½•
â”‚   â”œâ”€â”€ custom_symbols.json
â”‚   â””â”€â”€ bollinger_cache.pkl
â””â”€â”€ backup_info.json             # å¤‡ä»½ä¿¡æ¯
```

## æ³¨æ„äº‹é¡¹

### âš ï¸ é‡è¦æé†’

1. **å®šæœŸå¤‡ä»½**: å»ºè®®æ¯å‘¨å¤‡ä»½ä¸€æ¬¡ç”¨æˆ·æ•°æ®
2. **æµ‹è¯•æ¢å¤**: åœ¨é‡è¦æ›´æ–°å‰ï¼Œå…ˆæµ‹è¯•æ¢å¤æµç¨‹
3. **å¤‡ä»½éªŒè¯**: æ¢å¤åæ£€æŸ¥å¸ç§åˆ—è¡¨æ˜¯å¦æ­£ç¡®
4. **æ–‡ä»¶æƒé™**: ç¡®ä¿å¤‡ä»½æ–‡ä»¶æœ‰é€‚å½“çš„è¯»å†™æƒé™

### ğŸ”§ æ•…éšœæ’é™¤

1. **å¤‡ä»½å¤±è´¥**:
   - æ£€æŸ¥ç£ç›˜ç©ºé—´
   - ç¡®è®¤æ–‡ä»¶æƒé™
   - æŸ¥çœ‹é”™è¯¯æ—¥å¿—

2. **æ¢å¤å¤±è´¥**:
   - ç¡®è®¤å¤‡ä»½æ–‡ä»¶å®Œæ•´
   - æ£€æŸ¥ç›®æ ‡è·¯å¾„æƒé™
   - éªŒè¯æ–‡ä»¶æ ¼å¼

3. **å¸ç§ä¸¢å¤±**:
   - æ£€æŸ¥ `custom_symbols.json` æ–‡ä»¶å†…å®¹
   - ç¡®è®¤æ¢å¤è„šæœ¬æ‰§è¡ŒæˆåŠŸ
   - é‡å¯åº”ç”¨éªŒè¯

## è‡ªåŠ¨åŒ–å¤‡ä»½

### è®¾ç½®å®šæ—¶å¤‡ä»½

åœ¨Linux/Macç³»ç»Ÿä¸­ï¼Œå¯ä»¥è®¾ç½®cronä»»åŠ¡ï¼š

```bash
# ç¼–è¾‘crontab
crontab -e

# æ·»åŠ å®šæ—¶ä»»åŠ¡ï¼ˆæ¯å¤©å‡Œæ™¨2ç‚¹å¤‡ä»½ï¼‰
0 2 * * * cd /path/to/app && python backup_user_data.py
```

### å¤‡ä»½æ¸…ç†

å®šæœŸæ¸…ç†æ—§å¤‡ä»½æ–‡ä»¶ï¼š

```bash
# åˆ é™¤7å¤©å‰çš„å¤‡ä»½
find . -name "user_data_backup_*" -type d -mtime +7 -exec rm -rf {} \;
```

## è”ç³»æ”¯æŒ

å¦‚æœåœ¨å¤‡ä»½æˆ–æ¢å¤è¿‡ç¨‹ä¸­é‡åˆ°é—®é¢˜ï¼Œè¯·ï¼š

1. æ£€æŸ¥æ—¥å¿—æ–‡ä»¶
2. ç¡®è®¤æ–‡ä»¶æƒé™
3. éªŒè¯å¤‡ä»½æ–‡ä»¶å®Œæ•´æ€§
4. è”ç³»æŠ€æœ¯æ”¯æŒ

---

**æœ€åæ›´æ–°**: 2025-08-27
**ç‰ˆæœ¬**: 1.0

